(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{394:function(t,s,n){"use strict";n.r(s);var a=n(46),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("DOM 模型不能完全满足 HTML 文档的需求，所以 HTML DOM 在 DOM 的基础上进行了拓展。")]),t._v(" "),n("p",[t._v("HTML DOM 这个名称只在 MDN 上出现了，它属于 "),n("a",{attrs:{href:"https://html.spec.whatwg.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTML API"),n("OutboundLink")],1),t._v(" 的一部分，关于 DOM 的那一部分。广义上的 HTML API 还包括 BOM、setTimeOut、alert 等，涉及的内容确实较多，把它们进行拆分是一个很好的方法，下面的简述中我们也会沿用这个名称。")]),t._v(" "),n("p",[t._v("HTML DOM API 包括以下几个方面：")]),t._v(" "),n("ol",[n("li",[t._v("通过 DOM 访问和控制 HTML 元素\n"),n("ul",[n("li",[t._v("增强了 Document 对象")]),t._v(" "),n("li",[t._v("增强了 Element 对象")])])]),t._v(" "),n("li",[t._v("访问和操作 form data")]),t._v(" "),n("li",[t._v("增加了绘图上下文 canvas")]),t._v(" "),n("li",[t._v("audio、video")]),t._v(" "),n("li",[t._v("在网页上拖放内容")]),t._v(" "),n("li",[t._v("访问浏览器导航历史")]),t._v(" "),n("li",[t._v("其他 API 的支持和连接接口，例如 Web Components, Web Storage, Web Workers, WebSocket, Server-sent events.")])]),t._v(" "),n("p",[t._v("最后一项中的每一项都有其对应的单独的 API，我们在此不做表述。其他的我们一个一个来。")]),t._v(" "),n("h2",{attrs:{id:"通过-dom-访问和控制-html-元素"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#通过-dom-访问和控制-html-元素"}},[t._v("#")]),t._v(" 通过 DOM 访问和控制 HTML 元素")]),t._v(" "),n("p",[t._v("我们都知道，DOM 规范，也就是文档对象模型描述了页面的架构，是用一个树结构来表示一个文档，树的每个分支的终点都是一个节点。在 DOM 规范中，整棵树叫 document，每个节点叫 element。")]),t._v(" "),n("p",[t._v("在 JS 中实现的 document 和 element 对象，继承关系如下：")]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[t._v("EventTarget\n  Node "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 基础节点类型")]),t._v("\n    Document "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 整个文档用它的实例 document 表示")]),t._v("\n    Element "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 节点")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br")])]),n("p",[t._v("这个模型不仅仅适用于 html 文档，也适用于 XML、SVG 等文档。HTML 在此基础上进行一些拓展，具体的实现是新增了 HTMLDocument 对象，这个对象只能在 HTML 文档中使用。")]),t._v(" "),n("p",[t._v("继承关系变成了下面这样：")]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br")]),n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[t._v("EventTarget\n  Node "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 基础节点类型")]),t._v("\n    Document\n      HTMLDocument "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 整个文档用它的实例 document 表示")]),t._v("\n    Element\n      HTMLElement\n        HTMLCanvasElement "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 节点")]),t._v("\n        HTMLInputElement "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 节点")]),t._v("\n        HTMLBodyElement "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 节点")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br")])]),n("blockquote",[n("p",[t._v("XML、SVG 也在这个模型的基础上进行了拓展，具体的实现是 XMLDocument 对象。")])]),t._v(" "),n("h3",{attrs:{id:"增强了-document-对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#增强了-document-对象"}},[t._v("#")]),t._v(" 增强了 Document 对象")]),t._v(" "),n("p",[t._v("也就是新增了 HTMLDocument HTMLDocument 的实例 document 来标识整个文档。一些文档层面的方法和属性挂载在这个对象上的原型对象上。具体在以下几个方面：")]),t._v(" "),n("ul",[n("li",[t._v("支持访问 HTTP header 中的一些信息，例如 location, cookie, lastModified, referrer 等。")]),t._v(" "),n("li",[t._v("允许获取 "),n("code",[t._v("<head>")]),t._v(" 和 "),n("code",[t._v("<body>")]),t._v(" 中的一些元素列表，例如：images, links, scripts，返回一个 HTMLCollection.")]),t._v(" "),n("li",[t._v("支持检查文档是否获取了焦点 (hasFocus).")]),t._v(" "),n("li",[t._v("新增了全局属性 contenteditable.")]),t._v(" "),n("li",[t._v("新增了事件处理程序，例如：鼠标和键盘事件、拖放、媒体控制等。混入了 GlobalEventHandlers 中的事件名称作为属性。")]),t._v(" "),n("li",[t._v("新增了一些 Document 和 Element 都可以使用的的事件处理程序，目前仅包括 copy、cut、paste.")])]),t._v(" "),n("h3",{attrs:{id:"增强了-element-对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#增强了-element-对象"}},[t._v("#")]),t._v(" 增强了 Element 对象")]),t._v(" "),n("p",[t._v("具体表现为：")]),t._v(" "),n("ul",[n("li",[t._v("新增了 HTMLElement 对象，继承自 Element，这个对象上混入了 "),n("a",{attrs:{href:"https://maqingbo.github.io/fe-mindmap/parts/webApis/event.html#globaleventhandlers",target:"_blank",rel:"noopener noreferrer"}},[t._v("GlobalEventHandlers"),n("OutboundLink")],1),t._v(" 中的所有事件名称作为属性，并且提供了所有 HTML 元素共有的一些功能。例如：accessKey、offsetLeft、style、title 等。")]),t._v(" "),n("li",[t._v("在这之后再为每种 html 标签新增单独的"),n("code",[t._v("HTML*Element")]),t._v("对象（几乎一一对应），继承自 HTMLElement，来提供每种 HTML 元素独有的功能，通过 JS 操作元素时返回的就是这个对象。")])]),t._v(" "),n("p",[t._v("下面是一个例子，在 Chrome 控制台中打印的 ul 元素（略去了部分属性）。")]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nodeName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UL"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nodeType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nodeValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token null important"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" HTMLUListElement\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" HTMLUListElement()\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 特定的 ul 类型的节点")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" HTMLElement\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" HTMLElement()\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("blur")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" blur()\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("click")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" click()\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("focus")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" focus()\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("innerText")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# HTMLElement 构造函数的原型对象上挂载了很多 HTML 元素自有的属性和方法")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 结合上图可知，这些属性和方法在 SVG 中是不可用的")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Element\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Element()\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("getElementsByClassName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" getElementsByClassName()\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("getElementsByTagName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" getElementsByTagName()\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("querySelector")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" querySelector()\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("querySelectorAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" querySelectorAll()\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Element 构造函数的原型对象上也挂载了很多共有的属性和方法，且在 SVG 中也是可用的")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Node\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Node()\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nodeName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UL"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nodeType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" appendChild()\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Node 类型是最基本的类型，有一些 DOM 节点最基本的共有属性和方法")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" EventTarget\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" EventTarget()\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" addEventListener()\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dispatchEvent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" dispatchEvent()\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("removeEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" removeEventListener()\n          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# EventTarget 对象用来处理事件，只挂载了这三个方法")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Object\n            "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Object()\n            "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hasOwnProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" hasOwnProperty()\n            "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("isPrototypeOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" isPrototypeOf()\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br"),n("span",{staticClass:"line-number"},[t._v("39")]),n("br"),n("span",{staticClass:"line-number"},[t._v("40")]),n("br"),n("span",{staticClass:"line-number"},[t._v("41")]),n("br"),n("span",{staticClass:"line-number"},[t._v("42")]),n("br"),n("span",{staticClass:"line-number"},[t._v("43")]),n("br")])]),n("h2",{attrs:{id:"参考"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API",target:"_blank",rel:"noopener noreferrer"}},[t._v("Web APIs - MDN"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);